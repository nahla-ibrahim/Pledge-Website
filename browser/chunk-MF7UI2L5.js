import{a as I,b as D,i as M}from"./chunk-ONT5L6IO.js";import{a as R,b as d,c as A,d as j,e as G,f as h,h as O,i as Y,j as $,n as z}from"./chunk-JSZS4B6F.js";import{a as V}from"./chunk-ZW5WDOAU.js";import{b as S,i as T,k as q}from"./chunk-E5CYZ6LK.js";import{$a as p,Ab as N,Ca as F,Fa as a,Gb as x,R as g,Sa as k,W as _,X as b,ab as c,ea as v,eb as s,fb as r,gb as i,hb as u,lb as C,nb as E,p as w,pb as f,yb as n}from"./chunk-NSE3MCFW.js";var y=(t,o)=>({"border-green-600 ":t,"border-red-600":o});function U(t,o){if(t&1){let l=C();r(0,"div",2)(1,"div",5)(2,"div",6),u(3,"fa-icon",7),i(),r(4,"h2",8),n(5," Reservation Confirmed! "),i(),r(6,"p",9),n(7," Your seat in "),r(8,"span",10),n(9),i(),n(10," has been successfully reserved. "),i(),r(11,"p",11),n(12," We\u2019ll contact you soon with further details. "),i(),r(13,"button",12),E("click",function(){_(l);let e=f();return b(e.closeModal())}),n(14," Done "),i()()()}if(t&2){let l,m=f();a(3),s("icon",m.check),a(6),N(" ",(l=m.course())==null?null:l.title," ")}}function W(t,o){t&1&&(r(0,"span",20),n(1," full name is required "),i())}function Z(t,o){t&1&&(r(0,"span",20),n(1," please enter your name "),i())}function B(t,o){t&1&&(r(0,"span",20),n(1," full name is required "),i())}function H(t,o){t&1&&(r(0,"span",20),n(1," age is required "),i())}function J(t,o){t&1&&(r(0,"span",20),n(1," min age is 14 years old "),i())}function K(t,o){t&1&&(r(0,"span",20),n(1," max age is 60 years old "),i())}function Q(t,o){t&1&&(r(0,"span",20),n(1," please enter your age"),i())}function X(t,o){t&1&&(r(0,"span",20),n(1," email is required "),i())}function ee(t,o){t&1&&(r(0,"span",20),n(1," invalid email"),i())}function te(t,o){t&1&&(r(0,"span",20),n(1," phone number is required "),i())}function re(t,o){t&1&&(r(0,"span",20),n(1,"invalid phone number"),i())}function ie(t,o){if(t&1){let l=C();r(0,"div",3)(1,"div",13),u(2,"img",14),r(3,"div")(4,"h2",15),n(5," Reserve Your Seat Now In Our "),i(),r(6,"h2",16),n(7),i()()(),r(8,"form",17),E("ngSubmit",function(){_(l);let e=f();return b(e.enroll())}),r(9,"h3",18),n(10," Reserve Now "),i(),r(11,"div"),u(12,"input",19),p(13,W,2,0,"span",20)(14,Z,2,0,"span",20)(15,B,2,0,"span",20),i(),r(16,"div"),u(17,"input",21),p(18,H,2,0,"span",20)(19,J,2,0,"span",20)(20,K,2,0,"span",20)(21,Q,2,0,"span",20),i(),r(22,"div"),u(23,"input",22),p(24,X,2,0,"span",20)(25,ee,2,0,"span",20),i(),r(26,"div"),u(27,"input",23),p(28,te,2,0,"span",20)(29,re,2,0,"span",20),i(),r(30,"div",24)(31,"p",25),n(32," Your seat will be reserved immediately after confirmation. No payment is required at this step. "),i()(),r(33,"button",26),n(34," Confirm Reservation "),i()()()}if(t&2){let l,m,e=f();a(2),s("src",(l=e.course())==null?null:l.image,F),a(5),N(" ",(m=e.course())==null?null:m.title," "),a(),s("formGroup",e.enrollForm),a(4),s("ngClass",x(12,y,e.fullName.valid&&(e.fullName.touched||e.fullName.dirty),e.fullName.invalid&&(e.fullName.touched||e.fullName.dirty))),a(),c(e.fullName.hasError("required")&&(e.fullName.touched||e.fullName.dirty)?13:e.fullName.hasError("pattern")&&(e.fullName.touched||e.fullName.dirty)?14:e.fullName.hasError("minlength")&&(e.fullName.touched||e.fullName.dirty)?15:-1),a(4),s("ngClass",x(15,y,e.age.valid&&(e.age.touched||e.age.dirty),e.age.invalid&&(e.age.touched||e.age.dirty))),a(),c(e.age.hasError("required")&&(e.age.touched||e.age.dirty)?18:e.age.hasError("min")&&(e.age.touched||e.age.dirty)?19:e.age.hasError("max")&&(e.age.touched||e.age.dirty)?20:e.age.hasError("pattern")&&(e.age.touched||e.age.dirty)?21:-1),a(5),s("ngClass",x(18,y,e.email.valid&&(e.email.touched||e.email.dirty),e.email.invalid&&(e.email.touched||e.email.dirty))),a(),c(e.email.hasError("required")&&(e.email.touched||e.email.dirty)?24:e.email.hasError("email")&&(e.email.touched||e.email.dirty)?25:-1),a(3),s("ngClass",x(21,y,e.phoneNumber.valid&&(e.phoneNumber.touched||e.phoneNumber.dirty),e.phoneNumber.invalid&&(e.phoneNumber.touched||e.phoneNumber.dirty))),a(),c(e.phoneNumber.hasError("required")&&(e.phoneNumber.touched||e.phoneNumber.dirty)?28:e.phoneNumber.hasError("pattern")&&(e.phoneNumber.touched||e.phoneNumber.dirty)?29:-1),a(5),s("disabled",!e.enrollForm.valid)}}var L=class t{courseId;route=g(T);services=g(V);router=g(q);course=v(null);isEnroll=v(!1);check=M;ngOnInit(){this.route.paramMap.subscribe(o=>{let l=o.get("type"),m=o.get("id");!l||!m||(this.courseId=m,this.services.getData().pipe(w(e=>e[l].find(P=>P.id===this.courseId))).subscribe(e=>this.course.set(e??null)))})}enrollForm=new G({fullName:new h("",[d.required,d.minLength(7),d.pattern(/^[a-zA-Z\u0600-\u06FF\s]+$/)]),age:new h("",[d.required,d.min(14),d.max(60),d.pattern(/^[0-9]+$/)]),email:new h("",[d.required,d.email]),phoneNumber:new h("",[d.required,d.minLength(11),d.pattern(/^01[0,1,2,5][0-9]{8}$/)])});get fullName(){return this.enrollForm.get("fullName")}get age(){return this.enrollForm.get("age")}get email(){return this.enrollForm.get("email")}get phoneNumber(){return this.enrollForm.get("phoneNumber")}enroll(){this.enrollForm.invalid||this.enrollForm.valid&&(this.isEnroll.set(!0),console.log(this.isEnroll()))}closeModal(){this.isEnroll.set(!1),this.router.navigate(["/"])}static \u0275fac=function(l){return new(l||t)};static \u0275cmp=k({type:t,selectors:[["app-enroll-form"]],decls:5,vars:1,consts:[[1,"bg-bg","bg-linear-to-t","from-bg","to-white","pt-24","pb-10","overflow-hidden","dark:from-dark-primary","dark:to-primary/70"],[1,"container","px-3","mx-auto","flex","items-center","justify-center"],[1,"flex","items-center","justify-center","my-5","p-8"],[1,"relative","w-full","max-w-lg","backdrop-blur-xl","dark:bg-primary/80","rounded-3xl","shadow-2xl","p-8","bg-white/90"],[1,"dark:text-gray-400"],[1,"bg-white","dark:bg-primary","rounded-3xl","p-8","max-w-md","w-full","text-center","shadow-2xl","animate-scaleIn"],[1,"mx-auto","mb-4","w-20","h-20","rounded-full","bg-bg","flex","items-center","justify-center"],[1,"text-primary","font-extrabold","p-3","rounded-xl","text-3xl","dark:text-dark-primary",3,"icon"],[1,"text-2xl","font-extrabold","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-300","mb-4"],[1,"font-semibold","text-primary","dark:text-secondary"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-6"],[1,"w-full","py-3","rounded-xl","font-semibold","bg-linear-to-r","from-primary","via-bg/50","to-primary","cursor-pointer","hover:bg-primary/60","dark:via-secondary/80","dark:from-dark-secondary","dark:to-dark-secondary","my-1.5","transition","transition-all","hover:text-white","hover:via-primary","dark:hover:via-secondary",3,"click"],[1,"flex","items-center","gap-4","mb-6"],[1,"w-20","h-20","rounded-2xl","object-cover","shadow-md",3,"src"],[1,"text-sm","dark:text-white","text-primary","font-semibold"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-lg","font-semibold","text-gray-800","dark:text-white"],["type","text","placeholder","Full Name","formControlName","fullName",1,"w-full","px-4","py-3","rounded-xl","border","focus:ring-1","focus:ring-primary","outline-none","border-gray-400","placeholder:text-gray-500","dark:placeholder:text-white/60","dark:text-white",3,"ngClass"],[1,"text-red-600","text-sm"],["type"," number","placeholder","Your Age","formControlName","age",1,"w-full","px-4","py-3","rounded-xl","border","focus:ring-1","focus:ring-primary","outline-none","border-gray-400","placeholder:text-gray-500","dark:placeholder:text-white/60","dark:text-white",3,"ngClass"],["type","email","placeholder","Email Address","formControlName","email",1,"w-full","px-4","py-3","rounded-xl","border","focus:ring-1","focus:ring-primary","outline-none","border-gray-400","placeholder:text-gray-500","dark:placeholder:text-white/60","dark:text-white",3,"ngClass"],["type","tel","placeholder","Phone Number","formControlName","phoneNumber",1,"w-full","px-4","py-3","rounded-xl","border","focus:ring-1","focus:ring-primary","outline-none","border-gray-400","placeholder:text-gray-500","dark:placeholder:text-white/60","dark:text-white",3,"ngClass"],[1,"bg-primary/10","rounded-2xl","p-4","mb-6","dark:bg-gray-200"],[1,"text-sm","text-gray-700"],[1,"w-full","py-4","rounded-2xl","text-lg","font-semibold","text-white","bg-linear-to-r","from-secondary","to-dark-secondary","hover:scale-[1.02]","transition-transform","duration-200","shadow-lg","cursor-pointer","disabled:opacity-70","disabled:cursor-no-drop","disabled:hover:scale-[1]",3,"disabled"]],template:function(l,m){l&1&&(r(0,"section",0)(1,"div",1),p(2,U,15,2,"div",2)(3,ie,35,24,"div",3),i()(),u(4,"hr",4)),l&2&&(a(2),c(m.isEnroll()?2:3))},dependencies:[z,O,R,A,j,Y,$,S,D,I],encapsulation:2})};export{L as EnrollForm};
